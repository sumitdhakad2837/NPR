{"ast":null,"code":"import _classCallCheck from\"/data/data/com.termux/files/home/projects/NPR/NPR-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/data/data/com.termux/files/home/projects/NPR/NPR-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/data/data/com.termux/files/home/projects/NPR/NPR-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/data/data/com.termux/files/home/projects/NPR/NPR-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component}from'react';import axios from'axios';var Signup=/*#__PURE__*/function(_Component){_inherits(Signup,_Component);var _super=_createSuper(Signup);function Signup(){var _this;_classCallCheck(this,Signup);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={'passwordFieldIsPassword':true,'password2FieldIsPassword':true,'successMessage':'','message':false,'username':'','email':'','first_name':'','last_name':'','password':'','password2':'','loginStart':false};_this.handleLogin=function(){if(_this.state.loginStart){var data={'username':_this.state.username,'password':_this.state.password};axios.post('http://127.0.0.1:8000/login/',data).then(function(res){_this.setState(res.data);if(_this.state.successMessage==='User logined successfully.'){localStorage.setItem('user',res.data.user);_this.props.chechUserAuth(res.data.user);}else _this.setState({'message':true});}).catch(function(err){console.log(err);});}};_this.handleSignup=function(){var signupData={'username':_this.state.username,'email':_this.state.email,'first_name':_this.state.first_name,'last_name':_this.state.last_name,'password':_this.state.password,'password2':_this.state.password2};axios.post('http://127.0.0.1:8000/signup/',signupData).then(function(res){_this.setState({'message':true});_this.setState(res.data);if(_this.state.successMessage==='User created successfully.'){_this.setState({'message':false});}}).catch(function(err){console.error(err);});_this.setState({'loginStart':true});};return _this;}_createClass(Signup,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username :\"}),/*#__PURE__*/_jsx(\"h6\",{className:\"message\",children:this.state.message?this.state.username:''}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"e.g. sumit123\",onChange:function onChange(e){_this2.setState({'username':e.target.value,'message':false});}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"First Name :\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"e.g. Sumit\",onChange:function onChange(e){_this2.setState({'first_name':e.target.value});}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Last Name :\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"e.g. Dhakad\",onChange:function onChange(e){_this2.setState({'last_name':e.target.value});}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Email :\"}),/*#__PURE__*/_jsx(\"h6\",{className:\"message\",children:this.state.message?this.state.email:''}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",placeholder:\"e.g. sumitdhakad123@gmail.com\",onChange:function onChange(e){_this2.setState({'emial':e.target.value,'message':false});}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Password :\"}),/*#__PURE__*/_jsx(\"h6\",{className:\"message\",children:this.state.message?this.state.password:''}),/*#__PURE__*/_jsx(\"input\",{type:this.state.passwordFieldIsPassword?'password':'text',className:\"form-control\",placeholder:\"Make strong password.\",onChange:function onChange(e){_this2.setState({'password':e.target.value,'message':false});}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h1\",{onClick:function onClick(){_this2.setState({'passwordFieldIsPassword':!_this2.state.passwordFieldIsPassword});},className:\"btn btn-danger btn-sm\",children:this.state.passwordFieldIsPassword?'SHOW':'HIDE'}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Confirm password :\"}),/*#__PURE__*/_jsx(\"h6\",{className:\"message\",children:this.state.message?this.state.password2:''}),/*#__PURE__*/_jsx(\"input\",{type:this.state.password2FieldIsPassword?'password':'text',className:\"form-control\",placeholder:\"Both password should be same.\",onChange:function onChange(e){_this2.setState({'password2':e.target.value,'message':false});}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h1\",{onClick:function onClick(){_this2.setState({'password2FieldIsPassword':!_this2.state.password2FieldIsPassword});},className:\"btn btn-danger btn-sm\",children:this.state.password2FieldIsPassword?'SHOW':'HIDE'}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h6\",{className:\"message\",children:this.state.successMessage}),/*#__PURE__*/_jsx(\"h6\",{className:\"message\",children:this.state.message?this.state.message:''}),/*#__PURE__*/_jsx(\"h1\",{type:\"submit\",className:\"btn btn-success m-2 form-control\",onClick:this.state.loginStart?this.handleLogin:this.handleSignup,children:this.state.loginStart?'NOW LOGIN':'SIGNUP'})]})});}}]);return Signup;}(Component);export default Signup;","map":{"version":3,"sources":["/data/data/com.termux/files/home/projects/NPR/NPR-frontend/src/NPRcomponents/Signup.js"],"names":["React","Component","axios","Signup","state","handleLogin","loginStart","data","username","password","post","then","res","setState","successMessage","localStorage","setItem","user","props","chechUserAuth","catch","err","console","log","handleSignup","signupData","email","first_name","last_name","password2","error","message","e","target","value","passwordFieldIsPassword","password2FieldIsPassword"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nclass Signup extends Component{\n\tstate = {\n\t\t'passwordFieldIsPassword':true,\n\t\t'password2FieldIsPassword':true,\n\t\t'successMessage':'',\n\t\t'message':false,\n\n\n\t\t'username':'',\n\t\t'email':'',\n\t\t'first_name':'',\n\t\t'last_name':'',\n\t\t'password':'',\n\t\t'password2':'',\n\t\t'loginStart':false,\n\t}\n\n\n\thandleLogin=()=>{\n\t\tif(this.state.loginStart){ \n\t\t\tconst data = {'username':this.state.username, 'password':this.state.password}\n\t\t\taxios.post('http://127.0.0.1:8000/login/', data)\n\t\t\t.then((res)=>{\n\t\t\t\tthis.setState(res.data);\n\t\t\t\tif(this.state.successMessage==='User logined successfully.'){\n\t\t\t\t\tlocalStorage.setItem('user', res.data.user);\t\t\n\t\t\t\t\tthis.props.chechUserAuth(res.data.user);\n\t\t\t\t}\n\t\t\t\telse this.setState({'message':true});\n\t\t\t}).catch((err)=>{\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t\t}\n\t}\n\n\thandleSignup=()=>{\n\t\tconst signupData = {\n\t\t\t'username':this.state.username,\n\t\t\t'email':this.state.email,\n\t\t\t'first_name':this.state.first_name,\n\t\t\t'last_name':this.state.last_name,\n\t\t\t'password':this.state.password,\n\t\t\t'password2':this.state.password2,\n\t\t}\n\t\t\n\t\taxios.post('http://127.0.0.1:8000/signup/', signupData).then(res=>{\n\t\t\tthis.setState({'message':true});\n\t\t\tthis.setState(res.data);\n\t\t\t\n\t\t\tif(this.state.successMessage==='User created successfully.'){\n\t\t\t\t\n\t\t\t\tthis.setState({'message':false});\n\t\t\t}\n\t\t}).catch(err=>{\n\t\t\tconsole.error(err);\n\t\t});\n\n\t\tthis.setState({'loginStart':true});\n\t}\n\t\n\trender(){\n\t\treturn(\n\t\t\t<div>\n\t\t\t\t<form className='form-group'>\n\t\t\t\t\t\n\t\t\t\t\t<label>Username :</label>\n\t\t\t\t\t<h6 className='message'>{this.state.message?this.state.username:''}</h6>\n\t\t\t\t\t<input type='text' \n\t\t\t\t\tclassName='form-control' \n\t\t\t\t\tplaceholder='e.g. sumit123'\n\t\t\t\t\tonChange={e=>{this.setState({'username':e.target.value,'message':false})}}\n\t\t\t\t\t/><br/>\n\t\t\t\t\t\n\t\t\t\t\t<label>First Name :</label>\n\t\t\t\t\t<input type='text' \n\t\t\t\t\tclassName='form-control' \n\t\t\t\t\tplaceholder='e.g. Sumit'\n\t\t\t\t\tonChange={e=>{this.setState({'first_name':e.target.value})}}\n\t\t\t\t\t/><br/>\n\t\t\t\t\t\n\t\t\t\t\t<label>Last Name :</label>\n\t\t\t\t\t<input type='text' \n\t\t\t\t\tclassName='form-control' \n\t\t\t\t\tplaceholder='e.g. Dhakad'\n\t\t\t\t\tonChange={e=>{this.setState({'last_name':e.target.value})}}\n\t\t\t\t\t/><br/>\n\t\t\t\t\t\n\t\t\t\t\t<label>Email :</label>\n\t\t\t\t\t<h6 className='message'>{this.state.message?this.state.email:''}</h6>\n\t\t\t\t\t<input type='email' \n\t\t\t\t\tclassName='form-control' \n\t\t\t\t\tplaceholder='e.g. sumitdhakad123@gmail.com'\n\t\t\t\t\tonChange={e=>{this.setState({'emial':e.target.value,'message':false})}}\n\t\t\t\t\t/><br/>\n\t\t\t\t\t\n\t\t\t\t\t<label>Password :</label>\n\t\t\t\t\t<h6 className='message'>{this.state.message?this.state.password:''}</h6>\n\t\t\t\t\t<input type={this.state.passwordFieldIsPassword?'password':'text'} \n\t\t\t\t\tclassName='form-control' \n\t\t\t\t\tplaceholder='Make strong password.'\n\t\t\t\t\tonChange={e=>{this.setState({'password':e.target.value,'message':false})}}\n\t\t\t\t\t/><br/>\n\t\t\t\t\t<h1 \n\t\t\t\t\tonClick = {()=>{this.setState({\n\t\t\t\t\t\t'passwordFieldIsPassword':!(this.state.passwordFieldIsPassword)\n\t\t\t\t\t})}}\n\t\t\t\t\tclassName='btn btn-danger btn-sm'\n\t\t\t\t\t>{this.state.passwordFieldIsPassword?'SHOW':'HIDE'}</h1><br/><br/>\n\t\t\t\t\t\n\t\t\t\t\t<label>Confirm password :</label>\n\t\t\t\t\t\n\t\t\t\t\t<h6 className='message'>{this.state.message?this.state.password2:''}</h6>\n\t\t\t\t\t<input type={this.state.password2FieldIsPassword?'password':'text'} \n\t\t\t\t\tclassName='form-control' \n\t\t\t\t\tplaceholder='Both password should be same.'\n\t\t\t\t\tonChange={e=>{this.setState({'password2':e.target.value,'message':false})}}\n\t\t\t\t\t/><br/>\n\t\t\t\t\t<h1 \n\t\t\t\t\tonClick = {()=>{this.setState({\n\t\t\t\t\t\t'password2FieldIsPassword':!(this.state.password2FieldIsPassword)\n\t\t\t\t\t})}}\n\t\t\t\t\tclassName='btn btn-danger btn-sm'\n\t\t\t\t\t>{this.state.password2FieldIsPassword?'SHOW':'HIDE'}</h1><br/><br/>\n\n\t\t\t\t\t<h6 className='message'>{this.state.successMessage}</h6>\n\t\t\t\t\t<h6 className='message'>{this.state.message?this.state.message:''}</h6>\n\t\t\t\t\t<h1 type='submit' \n\t\t\t\t\tclassName='btn btn-success m-2 form-control'\n\t\t\t\t\tonClick = {this.state.loginStart?this.handleLogin:this.handleSignup}\n\t\t\t\t\t>{this.state.loginStart?'NOW LOGIN':'SIGNUP'}</h1>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}