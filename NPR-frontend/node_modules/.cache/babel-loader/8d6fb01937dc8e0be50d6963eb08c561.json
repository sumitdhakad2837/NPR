{"ast":null,"code":"import _classCallCheck from\"/data/data/com.termux/files/home/projects/NPR/NPR-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/data/data/com.termux/files/home/projects/NPR/NPR-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/data/data/com.termux/files/home/projects/NPR/NPR-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/data/data/com.termux/files/home/projects/NPR/NPR-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Component}from'react';import AllComments from'./AllComments';import axios from'axios';var ProductDetail=/*#__PURE__*/function(_Component){_inherits(ProductDetail,_Component);var _super=_createSuper(ProductDetail);function ProductDetail(){var _this;_classCallCheck(this,ProductDetail);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={'writenComment':''};_this.fetchData=function(){var url='http://127.0.0.1:8000/product/'+_this.props.ProductId+'/';axios.get(url).then(function(res){_this.setState(res.data);}).catch(function(err){console.error(err);});};return _this;}_createClass(ProductDetail,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchData();}},{key:\"handleLike\",value:function handleLike(ProductId,no){var _this2=this;var url='http://127.0.0.1:8000/updateLike';var data={'ProductId':ProductId,'Username':localStorage.getItem('user'),'Like':no};axios.post(url,data).then(function(res){_this2.setState(res.data);}).catch(function(err){console.error(err);});}},{key:\"handleComment\",value:function handleComment(com){var _this3=this;if(!(com.length===0)){var url='http://127.0.0.1:8000/createComment';var data={'ProductId':this.props.ProductId,'Username':localStorage.getItem('user'),'Comment':com};axios.post(url,data).then(function(res){var AllComments=_this3.state.AllComments;AllComments[AllComments.length]=res.data;_this3.setState({'AllComments':AllComments,'writenComment':''});}).catch(function(err){console.error(err);});}}},{key:\"render\",value:function render(){var _this4=this;if(!this.state.AllComments){return null;}return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"jumbotron navBar\",style:{padding:'5px 0px'},children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-center\",children:\"NPR\"})}),/*#__PURE__*/_jsx(\"hr\",{className:\"TopHr\"}),/*#__PURE__*/_jsx(\"h6\",{className:\"btn btn-danger btn-sm\",onClick:this.props.handleBack,children:\"Back\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"img\",{src:this.state.Image,className:\"productDetailImg\",alt:\"Product img\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"productDetailTittle\",children:this.state.product_name}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container sortDetail\",children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"btn btn-success btn-sm m-3\",onClick:function onClick(){_this4.handleLike(_this4.props.ProductId,'1');},children:[this.state.no_of_likes,\" likes\"]}),/*#__PURE__*/_jsxs(\"h6\",{className:\"btn btn-danger btn-sm m-3\",onClick:function onClick(){_this4.handleLike(_this4.props.ProductId,'0');},children:[this.state.no_of_dislikes,\" dislikes\"]}),/*#__PURE__*/_jsx(\"h6\",{className:\"btn btn-warning btn-sm m-3\",onClick:function onClick(){_this4.handleLike(_this4.props.ProductId,'-1');},children:\"remove both\"}),/*#__PURE__*/_jsxs(\"h6\",{children:[\"Comments : \",this.state.no_of_comments]}),/*#__PURE__*/_jsxs(\"h6\",{children:[\"Launch Date : \",this.state.launched_on]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container comments\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"productDetailTittle\",children:\"COMMENTS\"}),/*#__PURE__*/_jsx(AllComments,{data:this.state.AllComments}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control container\",rows:\"6\",value:this.state.writenComment,onChange:function onChange(e){_this4.setState({'writenComment':e.target.value});}}),/*#__PURE__*/_jsx(\"div\",{className:\"m-3\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"btn btn-primary btn-sm\",onClick:function onClick(){_this4.handleComment(_this4.state.writenComment);},children:\"Comment\"})]})]})]});}}]);return ProductDetail;}(Component);export default ProductDetail;","map":{"version":3,"sources":["/data/data/com.termux/files/home/projects/NPR/NPR-frontend/src/NPRcomponents/ProductDetail.js"],"names":["React","Component","AllComments","axios","ProductDetail","state","fetchData","url","props","ProductId","get","then","res","setState","data","catch","err","console","error","no","localStorage","getItem","post","com","length","padding","handleBack","Image","product_name","handleLike","no_of_likes","no_of_dislikes","no_of_comments","launched_on","writenComment","e","target","value","handleComment"],"mappings":"4wBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,GAEMC,CAAAA,a,uVACLC,K,CAAQ,CACP,gBAAgB,EADT,C,OAIRC,S,CAAU,UAAI,CACb,GAAMC,CAAAA,GAAG,CAAG,iCAAiC,MAAKC,KAAL,CAAWC,SAA5C,CAAsD,GAAlE,CACAN,KAAK,CAACO,GAAN,CAAUH,GAAV,EAAeI,IAAf,CAAoB,SAAAC,GAAG,CAAE,CACxB,MAAKC,QAAL,CAAcD,GAAG,CAACE,IAAlB,EACA,CAFD,EAEGC,KAFH,CAES,SAACC,GAAD,CAAO,CAACC,OAAO,CAACC,KAAR,CAAcF,GAAd,EAAmB,CAFpC,EAGA,C,sGAEkB,CAClB,KAAKV,SAAL,GACA,C,8CAEUG,S,CAAUU,E,CAAG,iBAEvB,GAAMZ,CAAAA,GAAG,CAAG,kCAAZ,CACA,GAAMO,CAAAA,IAAI,CAAG,CAAC,YAAYL,SAAb,CAAuB,WAAWW,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAlC,CAA+D,OAAOF,EAAtE,CAAb,CACAhB,KAAK,CAACmB,IAAN,CAAWf,GAAX,CAAeO,IAAf,EAAqBH,IAArB,CAA0B,SAAAC,GAAG,CAAE,CAC9B,MAAI,CAACC,QAAL,CAAcD,GAAG,CAACE,IAAlB,EACA,CAFD,EAEGC,KAFH,CAES,SAACC,GAAD,CAAO,CAACC,OAAO,CAACC,KAAR,CAAcF,GAAd,EAAmB,CAFpC,EAGA,C,oDAEaO,G,CAAI,iBACjB,GAAG,EAAEA,GAAG,CAACC,MAAJ,GAAa,CAAf,CAAH,CAAqB,CACpB,GAAMjB,CAAAA,GAAG,CAAG,qCAAZ,CACA,GAAMO,CAAAA,IAAI,CAAG,CAAC,YAAY,KAAKN,KAAL,CAAWC,SAAxB,CAAkC,WAAWW,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA7C,CAA0E,UAAUE,GAApF,CAAb,CACApB,KAAK,CAACmB,IAAN,CAAWf,GAAX,CAAeO,IAAf,EAAqBH,IAArB,CAA0B,SAAAC,GAAG,CAAE,CAC9B,GAAMV,CAAAA,WAAW,CAAG,MAAI,CAACG,KAAL,CAAWH,WAA/B,CACAA,WAAW,CAACA,WAAW,CAACsB,MAAb,CAAX,CAAgCZ,GAAG,CAACE,IAApC,CACA,MAAI,CAACD,QAAL,CAAc,CAAC,cAAcX,WAAf,CAA2B,gBAAgB,EAA3C,CAAd,EAEA,CALD,EAKGa,KALH,CAKS,SAACC,GAAD,CAAO,CAACC,OAAO,CAACC,KAAR,CAAcF,GAAd,EAAmB,CALpC,EAMA,CACD,C,uCAEO,iBACP,GAAG,CAAC,KAAKX,KAAL,CAAWH,WAAf,CAA2B,CAC1B,MAAO,KAAP,CACA,CACD,mBAEC,aAAK,SAAS,CAAG,WAAjB,wBAEC,YAAK,SAAS,CAAC,kBAAf,CACA,KAAK,CAAE,CAACuB,OAAO,CAAC,SAAT,CADP,uBAEC,WAAI,SAAS,CAAC,aAAd,iBAFD,EAFD,cAOC,WAAI,SAAS,CAAC,OAAd,EAPD,cASC,WAAI,SAAS,CAAC,uBAAd,CACA,OAAO,CAAE,KAAKjB,KAAL,CAAWkB,UADpB,kBATD,cAaC,aAAK,SAAS,CAAC,WAAf,wBACC,YAAK,GAAG,CAAE,KAAKrB,KAAL,CAAWsB,KAArB,CACA,SAAS,CAAC,kBADV,CAEA,GAAG,CAAC,aAFJ,EADD,cAIC,WAAI,SAAS,CAAC,qBAAd,UAAqC,KAAKtB,KAAL,CAAWuB,YAAhD,EAJD,cAKC,aALD,cAMC,aAAK,SAAS,CAAC,sBAAf,wBACC,YAAI,SAAS,CAAC,4BAAd,CACA,OAAO,CAAE,kBAAI,CAAC,MAAI,CAACC,UAAL,CAAgB,MAAI,CAACrB,KAAL,CAAWC,SAA3B,CAAqC,GAArC,EAA0C,CADxD,WAEE,KAAKJ,KAAL,CAAWyB,WAFb,YADD,cAKC,YAAI,SAAS,CAAC,2BAAd,CACA,OAAO,CAAE,kBAAI,CAAC,MAAI,CAACD,UAAL,CAAgB,MAAI,CAACrB,KAAL,CAAWC,SAA3B,CAAqC,GAArC,EAA0C,CADxD,WAEE,KAAKJ,KAAL,CAAW0B,cAFb,eALD,cASC,WAAI,SAAS,CAAC,4BAAd,CACA,OAAO,CAAE,kBAAI,CAAC,MAAI,CAACF,UAAL,CAAgB,MAAI,CAACrB,KAAL,CAAWC,SAA3B,CAAqC,IAArC,EAA2C,CADzD,yBATD,cAaC,oCAAgB,KAAKJ,KAAL,CAAW2B,cAA3B,GAbD,cAcC,uCAAmB,KAAK3B,KAAL,CAAW4B,WAA9B,GAdD,GAND,cAsBC,aAAK,SAAS,CAAC,oBAAf,wBACC,WAAI,SAAS,CAAC,qBAAd,sBADD,cAEC,KAAC,WAAD,EAAa,IAAI,CAAE,KAAK5B,KAAL,CAAWH,WAA9B,EAFD,cAKC,aALD,cAMC,iBAAW,SAAS,CAAC,wBAArB,CAA8C,IAAI,CAAC,GAAnD,CACA,KAAK,CAAI,KAAKG,KAAL,CAAW6B,aADpB,CAEA,QAAQ,CAAE,kBAACC,CAAD,CAAK,CACd,MAAI,CAACtB,QAAL,CAAc,CAAC,gBAAgBsB,CAAC,CAACC,MAAF,CAASC,KAA1B,CAAd,EACA,CAJD,EAND,cAaC,YAAK,SAAS,CAAC,KAAf,EAbD,cAcC,WAAI,SAAS,CAAC,wBAAd,CACA,OAAO,CAAE,kBAAI,CAAC,MAAI,CAACC,aAAL,CAAmB,MAAI,CAACjC,KAAL,CAAW6B,aAA9B,EAA6C,CAD3D,qBAdD,GAtBD,GAbD,GAFD,CA0DA,C,2BApG0BjC,S,EAuG5B,cAAeG,CAAAA,aAAf","sourcesContent":["import React, { Component} from 'react';\nimport AllComments from './AllComments';\nimport axios from 'axios';\n\nclass ProductDetail extends Component{\n\tstate = {\n\t\t'writenComment':''\n\t}\n\n\tfetchData=()=>{\n\t\tconst url = 'http://127.0.0.1:8000/product/'+this.props.ProductId+'/';\n\t\taxios.get(url).then(res=>{\n\t\t\tthis.setState(res.data);\n\t\t}).catch((err)=>{console.error(err)});\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.fetchData();\n\t}\n\n\thandleLike(ProductId,no){\n\t\t\n\t\tconst url = 'http://127.0.0.1:8000/updateLike';\n\t\tconst data = {'ProductId':ProductId,'Username':localStorage.getItem('user'),'Like':no}\n\t\taxios.post(url,data).then(res=>{\n\t\t\tthis.setState(res.data);\n\t\t}).catch((err)=>{console.error(err)});\n\t}\n\n\thandleComment(com){\n\t\tif(!(com.length===0)){\n\t\t\tconst url = 'http://127.0.0.1:8000/createComment';\n\t\t\tconst data = {'ProductId':this.props.ProductId,'Username':localStorage.getItem('user'),'Comment':com}\n\t\t\taxios.post(url,data).then(res=>{\n\t\t\t\tconst AllComments = this.state.AllComments;\n\t\t\t\tAllComments[AllComments.length]=res.data;\n\t\t\t\tthis.setState({'AllComments':AllComments,'writenComment':''});\n\t\t\t\t\n\t\t\t}).catch((err)=>{console.error(err)});\n\t\t} \n\t}\n\t\n\trender(){\n\t\tif(!this.state.AllComments){\n\t\t\treturn null;\n\t\t}\n\t\treturn(\n\t\t\t\n\t\t\t<div className = 'container'>\n\t\t\t\n\t\t\t\t<div className='jumbotron navBar'\n\t\t\t\tstyle={{padding:'5px 0px'}}\n\t\t\t\t><h3 className='text-center'>NPR</h3>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<hr className='TopHr'/>\n\t\t\t\t\n\t\t\t\t<h6 className='btn btn-danger btn-sm' \n\t\t\t\tonClick={this.props.handleBack}>Back</h6>\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<img src={this.state.Image} \n\t\t\t\t\tclassName='productDetailImg'\n\t\t\t\t\talt='Product img'/>\n\t\t\t\t\t<h1 className='productDetailTittle'>{this.state.product_name}</h1>\n\t\t\t\t\t<hr/>\n\t\t\t\t\t<div className='container sortDetail'>\n\t\t\t\t\t\t<h6 className='btn btn-success btn-sm m-3'\n\t\t\t\t\t\tonClick={()=>{this.handleLike(this.props.ProductId,'1')}}\n\t\t\t\t\t\t>{this.state.no_of_likes} likes</h6>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<h6 className='btn btn-danger btn-sm m-3'\n\t\t\t\t\t\tonClick={()=>{this.handleLike(this.props.ProductId,'0')}}\n\t\t\t\t\t\t>{this.state.no_of_dislikes} dislikes</h6>\n\n\t\t\t\t\t\t<h6 className='btn btn-warning btn-sm m-3'\n\t\t\t\t\t\tonClick={()=>{this.handleLike(this.props.ProductId,'-1')}}\n\t\t\t\t\t\t>remove both</h6>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<h6>Comments : {this.state.no_of_comments}</h6>\n\t\t\t\t\t\t<h6>Launch Date : {this.state.launched_on}</h6>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='container comments'>\n\t\t\t\t\t\t<h3 className='productDetailTittle'>COMMENTS</h3>\n\t\t\t\t\t\t<AllComments data={this.state.AllComments}/>\n\n\n\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t<textarea  className='form-control container' rows='6'\n\t\t\t\t\t\tvalue = {this.state.writenComment}\n\t\t\t\t\t\tonChange={(e)=>{\n\t\t\t\t\t\t\tthis.setState({'writenComment':e.target.value});\n\t\t\t\t\t\t}}\n\t\t\t\t\t\t></textarea>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div className='m-3'></div>\n\t\t\t\t\t\t<h5 className='btn btn-primary btn-sm'\n\t\t\t\t\t\tonClick={()=>{this.handleComment(this.state.writenComment)}}\n\t\t\t\t\t\t>Comment</h5>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ProductDetail;\n"]},"metadata":{},"sourceType":"module"}